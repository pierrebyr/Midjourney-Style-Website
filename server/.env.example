# ======================
# SERVER CONFIGURATION
# ======================
PORT=3001
NODE_ENV=development

# ======================
# DATABASE
# ======================
# For SQLite (development)
DATABASE_URL="file:./dev.db"

# For PostgreSQL (production)
# DATABASE_URL="postgresql://user:password@host:5432/database?schema=public"

# ======================
# JWT AUTHENTICATION (REQUIRED)
# ======================
# Generate a strong secret: openssl rand -base64 32
JWT_SECRET=your-super-secret-jwt-key-CHANGE-THIS-IN-PRODUCTION
JWT_EXPIRES_IN=7d

# ======================
# GEMINI AI API (REQUIRED for prompt parsing)
# ======================
# Get your API key from: https://makersuite.google.com/app/apikey
GEMINI_API_KEY=your_gemini_api_key_here

# ======================
# STRIPE (REQUIRED for payments and subscriptions)
# ======================
# Get these from: https://dashboard.stripe.com/test/apikeys (Test Mode)
STRIPE_SECRET_KEY=sk_test_51xxxxxxxxxxxxxxxxxxxxxxxxxxxxx
STRIPE_PUBLISHABLE_KEY=pk_test_51xxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Webhook signing secret (get from https://dashboard.stripe.com/test/webhooks)
STRIPE_WEBHOOK_SECRET=whsec_xxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Product Price IDs (create products in Stripe Dashboard)
# 1. Go to https://dashboard.stripe.com/test/products
# 2. Create "Premium Monthly" product ($9.99/month recurring)
# 3. Create "Premium Yearly" product ($99.99/year recurring)
# 4. Copy the Price IDs (start with "price_")
STRIPE_PREMIUM_MONTHLY_PRICE_ID=price_xxxxxxxxxxxxxxxxxxxxxxxxxxxxx
STRIPE_PREMIUM_YEARLY_PRICE_ID=price_xxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# ======================
# CORS (Frontend URL)
# ======================
CORS_ORIGIN=http://localhost:3000

# ======================
# FILE UPLOAD
# ======================
UPLOAD_DIR=uploads
MAX_FILE_SIZE=52428800

# Allowed file types (comma-separated)
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/webp,image/gif

# ======================
# EMAIL (OPTIONAL - for notifications)
# ======================
# Gmail Example (create App Password: https://support.google.com/accounts/answer/185833)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password

# SendGrid Example
# SMTP_HOST=smtp.sendgrid.net
# SMTP_PORT=587
# SMTP_USER=apikey
# SMTP_PASS=SG.xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Mailtrap (for testing)
# SMTP_HOST=smtp.mailtrap.io
# SMTP_PORT=2525
# SMTP_USER=your-mailtrap-user
# SMTP_PASS=your-mailtrap-pass

EMAIL_FROM=noreply@midjourney-library.com
EMAIL_FROM_NAME=Midjourney Style Library

# ======================
# URLS (for emails & webhooks)
# ======================
FRONTEND_URL=http://localhost:3000
BACKEND_URL=http://localhost:3001

# ======================
# RATE LIMITING
# ======================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ======================
# LOGGING
# ======================
# Levels: error, warn, info, debug
LOG_LEVEL=info

# ======================
# FEATURES (Optional)
# ======================
ENABLE_2FA=false
ENABLE_EMAIL_VERIFICATION=false

# ======================
# SECURITY (Optional)
# ======================
# Ignore Prisma engine checksum errors (offline environments)
# PRISMA_ENGINES_CHECKSUM_IGNORE_MISSING=1
